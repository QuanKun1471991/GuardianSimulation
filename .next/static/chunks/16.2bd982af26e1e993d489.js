(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{aWHX:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n("WDFe"),c=n("bL/2"),r=n("gpXz"),i=n("g6Z0"),u=n("hoJM"),s=n("bHcU"),l=n("ouHB"),f=n("Pmt0"),g=n("nHi6"),w=n("DhIt"),d=n("rfrl"),m=function(){return new c.a({src:"/icons/com_icons.png",color:"#0692d5",size:[56,31],offset:[3,11],scale:1})},b={number:new r.a({textAlign:"center",textBaseline:"bottom",font:"Bold 12px/3 arial",fill:new i.a,offsetY:-5}),name:new r.a({textAlign:"center",textBaseline:"bottom",font:"Bold 15px/3 arial",fill:new i.a({color:"black"}),backgroundFill:new i.a({color:"white"}),backgroundStroke:new u.a({color:[63,144,255]}),padding:[0,5,0,5],offsetY:38})},p=new s.b({text:b.number,image:m()}),x=new s.b({text:b.name}),v=new f.a({source:new o.a({format:new l.a})}),S=new f.a({source:new o.a({format:new l.a})}),j=new g.a({layers:[v,S]});t.default=function(e){var t=e.selectedVessel,n=e.vesselList,o=e.guardianMap,c=Object(a.useState)(o.getView().getZoom()),r=c[0],i=c[1];Object(a.useEffect)((function(){if(0!==n.length){var e=v.getSource(),a=S.getSource(),o=t?n.filter((function(e){return e.properties.id===t.get("id")})):n,c=o.map((function(e){return Object(d.a)(e,(function(e){e.properties.click_disabled=!0}))})),r=Object(w.e)(o),i=Object(w.e)(c);return e.clear(),a.clear(),e.addFeatures(r),a.addFeatures(i),function(){e.clear(),a.clear()}}}),[t,n]);var u=function(){v.getSource().getFeatures().map((function(e){var t=o.getView().getZoom(),n=(e.get("type"),m()),a=p.clone();a.setImage(n);var c=a.getImage();return c.setScale(t>5?.5:.3),c.setRotation(e.get("heading")),e.setStyle(a)}))},s=function(){S.getSource().getFeatures().map((function(e){var t=o.getView().getZoom()>3?.32:.3,n=b.name.clone(),a=x.clone();a.setText(n);var c=a.getText();c.setText(e.get("name")),c.setScale(1.7*t),a.setText(c),e.setStyle(a)}))};return Object(a.useEffect)((function(){u()}),[n,o,u]),Object(a.useEffect)((function(){s()}),[n,o]),o.on("moveend",(function(){var e=o.getView().getZoom();(e>5&&r<5||e<5&&r>5)&&u(),(e>3&&r<3||e<3&&r>3)&&s(),i(e)})),Object(a.useEffect)((function(){o.addLayer(j)}),[o]),null}}}]);