(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{OIZf:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),a=n("WDFe"),c=n("bHcU"),r=n("bL/2"),i=n("zixo"),u=n("g6Z0"),s=n("gpXz"),f=n("hoJM"),l=n("ouHB"),g=n("Pmt0"),w=n("nHi6"),d=n("DhIt"),p=n("rfrl"),b=new c.b({image:new r.a({src:"/icons/com_icons.png",size:[29,29],offset:[123,12],scale:.2})}),m=new c.b({image:new i.a({radius:2,fill:new u.a({color:[63,144,255]})})}),S=new c.b({text:new s.a({textAlign:"center",textBaseline:"bottom",font:"Bold 15px/3 arial",fill:new u.a({color:"white"}),backgroundFill:new u.a({color:[63,144,255]}),backgroundStroke:new f.a({color:"white"}),padding:[0,5,0,5],offsetY:-15})}),v=new g.a({source:new a.a({format:new l.a})}),O=new g.a({source:new a.a({format:new l.a})}),j=new w.a({layers:[v,O]});t.default=function(e){var t=e.selectedPort,n=e.portList,a=e.guardianMap,c=Object(o.useState)(a.getView().getZoom()),r=c[0],i=c[1];Object(o.useEffect)((function(){if(0!==n.length){var e=v.getSource(),o=O.getSource(),a=t?n.filter((function(e){return e.properties.id===t.id})):n,c=a.map((function(e){return Object(p.a)(e,(function(e){e.properties.click_disabled=!0}))}));return e.addFeatures(Object(d.d)(a)),o.addFeatures(Object(d.d)(c)),function(){e.clear(),o.clear()}}}),[t,n]);var u=function(){v.getSource().getFeatures().map((function(e){var t=a.getView().getZoom()>5?.5:.4,n=b.clone();n.getImage().setScale(t);var o=m.clone();e.setStyle(e.get("has_port_forecast")?n:o)}))},s=function(){O.getSource().getFeatures().map((function(e){var t=a.getView().getZoom(),n=t>5?.4:.2,o=S.clone(),c=o.getText();c.setText(t>5?e.getProperties().name:""),c.setScale(1.5*n),e.setStyle(o)}))};return Object(o.useEffect)((function(){u()}),[n,a,u]),Object(o.useEffect)((function(){s()}),[n,a]),a.on("moveend",(function(){var e=a.getView().getZoom();(e>5&&r<5||e<5&&r>5)&&s(),i(e)})),Object(o.useEffect)((function(){a.addLayer(j)}),[a]),null}}}]);