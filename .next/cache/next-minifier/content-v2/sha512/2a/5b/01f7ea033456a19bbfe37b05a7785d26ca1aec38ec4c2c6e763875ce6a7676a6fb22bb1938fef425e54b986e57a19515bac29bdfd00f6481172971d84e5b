{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{\"/EDR\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"QeBL\")}])},QeBL:function(e,t,n){\"use strict\";n.r(t);var a=n(\"mwIZ\"),s=n.n(a),o=(n(\"pjuD\"),n(\"rR1Q\")),c=n.n(o),r=n(\"q1tI\"),l=n.n(r),i=n(\"/MKj\"),u=(n(\"VX7l\"),n(\"cOpH\")),d=n(\"c4LT\"),m=n(\"y47u\"),f=n(\"4UuZ\"),b=n(\"pq6S\"),p=n(\"FZsM\"),g=n(\"lbLP\"),h=n(\"NXWm\"),O=n(\"yN4R\"),w=n(\"7aiV\"),S=n(\"RtB9\"),j=n(\"IcN4\"),E=n(\"a6RD\"),k=n.n(E),R=n(\"RcwY\"),_=l.a.createElement,P=k()((function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,\"IH2A\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"IH2A\"]},modules:[\"components/BaseMap\"]}}),N=k()((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(16)]).then(n.bind(null,\"aWHX\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"aWHX\"]},modules:[\"components/Layers/Vessel\"]}}),v=k()((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(14)]).then(n.bind(null,\"OIZf\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"OIZf\"]},modules:[\"components/Layers/Port\"]}}),I=k()((function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,\"ZgI7\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"ZgI7\"]},modules:[\"components/Layers/SelectedFeature\"]}}),V=k()((function(){return Promise.all([n.e(9),n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,\"45+l\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"45+l\"]},modules:[\"components/Layers/SimulationRoutes\"]}}),y=k()((function(){return Promise.all([n.e(1),n.e(2),n.e(17)]).then(n.bind(null,\"vv6I\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"vv6I\"]},modules:[\"components/SimulationResults\"]}}),M=k()((function(){return Promise.all([n.e(1),n.e(2),n.e(12)]).then(n.bind(null,\"VNe4\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"VNe4\"]},modules:[\"components/VesselSettings\"]}}),L={fetching:\"Fetching Cargo Data \",fetched:\"Fetched Cargo Data successfully\"},F={fetching:\"Fetching Port Data\",fetched:\"Fetched Port Data successfully\"},T=function(){Object(u.a)({key:\"vessel\",reducer:m.a}),Object(d.a)({key:\"vessel\",saga:b.a,mode:g.a.RESTART_ON_REMOUNT}),Object(u.a)({key:\"port\",reducer:f.a}),Object(d.a)({key:\"port\",saga:p.a,mode:g.a.RESTART_ON_REMOUNT});var e=Object(i.d)(h.a),t=e.data,n=e.selectedVessel,a=Object(i.d)(O.a).data,o=Object(i.d)(R.a).isCollapsed,E=Object(i.c)(),k=Object(r.useState)(null),T=k[0],D=k[1],Z=Object(r.useState)(null),G=Z[0],C=Z[1],X=Object(r.useState)(!1),A=X[0],H=X[1],B=n.name,Q=n.simulationRoutes.show,U=Object(r.useCallback)((function(e){var t=T.getView(),n=t.getZoom();t.animate({zoom:n>=6.5?n:6.5,center:e,duration:600})}),[T]);Object(r.useEffect)((function(){E(Object(w.c)({onStart:function(){c.a.info({message:\"Info\",description:L.fetching})},onSuccess:function(){c.a.success({message:\"Success\",description:L.fetched})},onError:function(e){c.a.error({message:\"Error\",description:s()(e,\"data.message\")})}})),E(Object(S.c)({onStart:function(){c.a.info({message:\"Info\",description:F.fetching})},onSuccess:function(){c.a.success({message:\"Success\",description:F.fetched})},onError:function(e){c.a.error({message:\"Error\",description:s()(e,\"data.message\")})}}))}),[E]),Object(r.useEffect)((function(){T&&T.on(\"click\",(function(e){var t=e.pixel,n=T.getFeaturesAtPixel(t)[0];if(n){if(n.get(\"click_disabled\")||!n.get(\"name\"))return null;U(e.coordinate),C(n),H(!0),E(w.b.setState({field:\"selectedVessel\",name:n.get(\"name\"),imo:n.get(\"imo\"),mmsi:n.get(\"mmsi\")}))}else H(!1)}))}),[T,U]);return _(\"div\",{className:\"root\"},_(\"div\",{id:\"screenshot\"},_(P,{guardianMap:T,onSetMap:D}),_(j.a,{isCollapsed:o,placement:\"bottom\",visible:A,title:\"Simulation Points\"},_(y,{selectedVessel:n}))),T&&_(l.a.Fragment,null,_(N,{selectedVessel:null,vesselList:t,guardianMap:T}),_(v,{selectedPort:null,portList:a,guardianMap:T}),_(I,{selectedFeature:G,guardianMap:T}),_(V,{guardianMap:T,selectedVessel:n}),_(M,{show:B,handleClickSimulation:function(){E(w.b.setState({field:\"selectedVessel\",simulationRoutes:{data:[],loading:!1,update:!1,error:null,show:!Q}}))}})))};t.default=Object(r.memo)(T)}},[[\"/EDR\",3,4,0,5,6,8,7]]]);","extractedComments":[]}